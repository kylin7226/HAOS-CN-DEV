# ROCK 5B specific kernel configuration
# Additional configs can be added here as needed

#
# GPU and NPU Support for RK3588
#

# Mali GPU Driver (ARM Mali Bifrost for RK3588)
CONFIG_DRM=y
CONFIG_DRM_PANFROST=y
CONFIG_DRM_LIMA=y

# Alternative Mali drivers (if using ARM's official driver)
# CONFIG_MALI_MIDGARD is not set
# CONFIG_MALI_BIFROST is not set

# RKNPU Driver Support
CONFIG_ROCKCHIP_RKNPU=y
CONFIG_ROCKCHIP_RKNPU_DEBUG_FS=y
# CONFIG_ROCKCHIP_RKNPU_PROC_FS is not set
# CONFIG_ROCKCHIP_RKNPU_FENCE is not set
# CONFIG_ROCKCHIP_RKNPU_SRAM is not set
CONFIG_ROCKCHIP_RKNPU_DRM_GEM=y

# Video Processing Units
CONFIG_V4L2_MEM2MEM_DEV=y
CONFIG_VIDEOBUF2_CORE=y
CONFIG_VIDEOBUF2_DMA_CONTIG=y
CONFIG_VIDEOBUF2_MEMOPS=y

# RGA (Raster Graphics Acceleration)
CONFIG_ROCKCHIP_RGA=y
CONFIG_ROCKCHIP_RGA2=y

# Video Codec Support (VPU)
CONFIG_ROCKCHIP_VDEC=y
CONFIG_ROCKCHIP_VENC=y

# IOMMU Support for GPU/NPU
CONFIG_IOMMU_SUPPORT=y
CONFIG_ROCKCHIP_IOMMU=y

# DMA Engine support
CONFIG_DMADEVICES=y
CONFIG_PL330_DMA=y

# CMA (Contiguous Memory Allocator) for GPU/NPU
CONFIG_CMA=y
CONFIG_DMA_CMA=y
CONFIG_CMA_SIZE_MBYTES=256

# Performance monitoring
CONFIG_ARM_PMU=y
CONFIG_HW_PERF_EVENTS=y